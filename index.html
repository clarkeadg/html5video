<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>HTML5 Video Player | Video JS</title>

  <!-- REQUIRED test -->
  <link href="assets/css/html5video.css" rel="stylesheet" type="text/css">
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/html5video.js"></script>

  <!-- OPTIONAL -->
  <link href="assets/demo/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">  
  <script src="assets/demo/bootstrap/js/bootstrap.min.js"></script>
  <link href="assets/demo/css/navbar-fixed-top.css" rel="stylesheet" type="text/css">
  <link href="assets/demo/css/site.css" rel="stylesheet" type="text/css">
  <!--<link href="assets/demo/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">-->
  <link href="assets/demo/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css">

</head>
<body>

<div id="wrap" >

  <!-- Fixed navbar -->
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">HTML5 Video</a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="docs/get-started.html">Get Started</a></li>
          <li><a href="docs/">Docs</a></li>
          <li><a href="examples/">Examples</a></li>        
          <li><a href="https://github.com/clarkeadg/html5video/zipball/master">Download</a></li>
          <li><a href="https://github.com/clarkeadg/html5video">Github</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="jumbotron1 center">
      <p>Cross-browser HTML5 Video Player made with <a href="http://www.videojs.com" >Video JS</a>. Supports all major browsers plus iOS and Android.</p>
      <div id="video-cont" >
        <div id="video1"></div> 
        <div id="video-title"></div>
       <!-- <div id="next"><a href="#" ><i class="fa fa-chevron-right"></i></a></div>
        <div id="previous"><a href="#" ><i class="fa fa-chevron-left"></i></a></div> -->
      </div>
      <p>
        <a class="btn btn-lg btn-primary" href="docs/get-started.html" role="button">Get Started</a>
        <a class="btn btn-lg btn-primary" href="examples/" role="button">View Examples</a>
      </p>
    </div>
  </div> 

  <div class="container dark">
    <div id ="playlists" ></div>  
  </div>

  <div class="container white">
    <div class="row">
      <div class="col-md-8">

        <div class="jumbotron">
          
          <h6>Features</h6>
          <ul id="feature_list">
            <li>Support for multiple playlists</li>
            <li>Load playlists dynamically via ajax</li>
            <li>Youtube Videos</li>
            <li>Switch Resolutions</li>
            <li>Stat Tracking</li>
            <li>Hide Controls</li>
            <li>Ads</li>
            <li>Autoplay & Loop</li>
            <li>End of Video Overlay with Replay Button</li>
            <li>Multiple video players on 1 page</li>
          </ul>

        </div>

        <div class="jumbotron">

          <h6>Plus all regular Video JS Features</h6>
          <ul id="feature_list">
            <li>Free &amp; Open Source</li>
            <li>Lightweight. <strong>NO IMAGES USED</strong></li>
            <li>100% skinnable using CSS</li>
            <li>Library independent</li>
            <li>Easy to use</li>
            <li>Easy to understand &amp; extend</li>
            <li>Consistent look between browsers</li>
            <li>Full Window Mode</li>
            <li>Volume Control</li>
            <li>Forced fallback to Flash (even when there is an unsupported source)</li>
          </ul>
        </div>

      </div>
      <div class="col-md-4">

        <div class="jumbotron">
          
          <h6>Download</h6>
          <div class="supported-section">
            <a href="https://github.com/clarkeadg/html5video/zipball/master" title="Zip Download"><img src="assets/demo/images/icons/zip.png" alt="Zip Download"></a>
          </div>
          
          <h6>Supported Browsers</h6>
          <div class="supported-section">
            <a href="http://www.mozilla.com/en-US/firefox/firefox.html" title="Firefox"><img src="assets/demo/images/icons/firefox.png" alt="Firefox"></a>
            <a href="http://www.apple.com/safari/" title="Safari"><img src="assets/demo/images/icons/safari.png" alt="Safari"></a>
            <a href="http://www.google.com/chrome" title="Chrome"><img src="assets/demo/images/icons/chrome.png" alt="Chrome"></a>
            <a href="http://www.opera.com/" title="Opera"><img src="assets/demo/images/icons/opera.png" alt="Opera"></a>
          </div>
          
          <h6>Fallback Support For</h6>
          <div class="supported-section">
            <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx" title="IE"><img src="assets/demo/images/icons/ie.png" alt="IE"></a>
          </div>
          
          <h6>Supported Formats</h6>
          <div class="supported-section">
            <a href="http://en.wikipedia.org/wiki/H.264/MPEG-4_AVC" title="h264"><img src="assets/demo/images/icons/h264.png" alt="h264"></a>
            <a href="http://www.theora.org/" title="Ogg"><img src="assets/demo/images/icons/ogg.png" alt="Ogg"></a>
            <a href="http://www.webmproject.org/" class="dark" title="WebM"><img src="assets/demo/images/icons/webm.png" alt="WebM"></a>
          </div>
          
          <h6>Compatible With</h6>
          <div class="supported-section">
            <a href="http://www.apple.com/iphone/" title="iPhone"><img src="assets/demo/images/icons/iphone.png" alt="iPhone"></a>
            <a href="http://www.apple.com/ipad/" title="iPad"><img src="assets/demo/images/icons/ipad.png" alt="iPad"></a>
          </div>
        </div>

        <div class="jumbotron">
          <p>If you like this project, please donate.  Thank you!</p>

          <div class="center" >
          <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
            <input type="hidden" name="cmd" value="_s-xclick">
            <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
            ">
            <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
            <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
          </form>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="container">
    <div class="row foot">
      <div class="col-12">
        <p id="issues_link">Submit any bugs in the <a href="https://github.com/clarkeadg/html5video/issues">Issue Tracker</a> or update the <a href="https://github.com/clarkeadg/html5video/wiki">Wiki</a></p> 
      </div>
    </div>   
  </div>

</div>

  <script type="text/javascript">
    $(function() {        
      videojs.options.flash.swf = "assets/flash/video-js.swf";      
      var video1 = new html5video($('#video1'),{
        id: 'video-1' //must have a unique idea if you want more than 1 video on a page
        ,width: 640
        ,height: 390
        ,statsApi: 'http://laravel.brainbreaks.net/api/stats/?Version=v2'
        ,enableStats: false        
        ,replayText: 'Replay ?'
        ,autoplay: true         
        ,loop: true
        ,debug: false
        ,AppSettings: {
          UserID: "brian"
            ,AccountID: 1
            ,Version: '1.4.6'
            ,AppPlatform: 'html5'
            ,Skin: 'web'
        }
        ,adCounter: 1
        ,ads: [
        {
            "id":"ad1"
            ,"name":"Ad 1"
            ,"contentpack_id":"ad1"
            ,"father_id":null
            ,"description":"Ad 1"
            ,"thumbnail":"ContentPacks\/brewers\/brewers_thumb.jpg"
            ,"filename":""
            ,"contents_sort_order":"1"
            ,"video_type":"Ad"
            ,"duration":"0"
            ,"tags":""
            ,"intensity":"1"
            ,"enabled":"1"
            ,src: [
              'assets/videos/TBBBTYB_hopsports.mp4'
              //,'assets/videos/TBBBTYB_hopsports.webm'
            ]
            ,srcHD: [
              'assets/videos/TBBBTYB_hopsports.mp4'
              //'assets/videos/ADA_BEST1.mp4'
              //,'assets/videos/ADA_BEST1.webm'
            ]
            ,type: "video/mp4"
            ,poster : 'assets/videos/TBBBTYB_hopsports.jpg'
            ,title : '<a href="http://www.hopsports.com" >HOPSports</a>' 
            ,isAd: true
            ,controls: false 
          }
        ] 
        ,videos: []
      });
     
     $('#next').bind('click',function(e){
        e.preventDefault();
        video1.next();
      });
      
      $('#previous').bind('click',function(e){
        e.preventDefault();
        video1.previous();
      });

      var feeds = [
        { 
          url: 'assets/data/top-videos.json' 
          ,title: 'Top Videos'
        } 
        /*,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=e75b87970a4590ab3f61c53854661fde&_render=json'
          ,title: 'Top Pop'
        }*/
        /*,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=af1731677d0479671fe57893dfdf001c&_render=json'
          ,title: 'Top Music Videos'
        }*/
        /*,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=e678becc06a033cd31f958bf6f7a55ea&_render=json'
          ,title: 'Top Electronic'
        }        
        ,{ 
          url: 'https://pipes.yahoo.com/pipes/pipe.run?_id=b3a4c1011716a9b1207714d139663d3a&_render=json' 
          ,title: 'Top Alternative'
        }
        ,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=33ef1217c91c173678465b08f474c1df&_render=json' 
          ,title: 'Top Country'
        }
        ,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=c313ac2597c42ccce5130552479e2f54&_render=json' 
          ,title: 'Top Rap'
        }
        ,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=1535ad0444516d3c30d98233c8c6052e&_render=json' 
          ,title: 'Top Latino'
        }*/
        /*,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=9128fcc66350e03831787723691e1954&_render=json' 
          ,title: 'Top Soul'
        }*/
        /*,{ 
          url: 'http://pipes.yahoo.com/pipes/pipe.run?_id=f1c6d1bf65633c1557f1a9fe83516d34&_render=json' 
          ,title: 'Top Rock'
        }*/                     
      ];

      var n = 0;
      $.each(feeds,function(i,v){
        n++;        
        var $title = $('<h6>'+v.title+'</h6>');
        var $playlist = $('<div class="thumbs"></div>');
        //$('#playlists').append($title);  
        $('#playlists').append($playlist);
        var loaded = false;
        getVideos(v.url,$playlist,$title,function(data,jcont) {            
            makePlaylist(data,jcont);             
            if (!loaded && data.length) {
              $title.insertBefore($playlist);
              loaded = true;
              video1.opts.videos = data;
              video1.loadVideo(0);  
              video1.opts.adCounter = 2;
            }
          }
        );
      });

      function getVideos(url,jcont,title,cb) {
        $.ajax({
          url: url
          ,dataType: 'json'
          ,success: function(data) {
            var playlist = [];
            $.each(data.videos,function(i,v){
              //console.log(i,v)
              //if (v.link) {
                playlist.push({
                  "id":i
                  ,"name":"video "+i
                  ,"contentpack_id":"youtube"
                  ,"father_id":null
                  ,"description":v.title
                  ,"thumbnail":"ContentPacks\/brewers\/brewers_thumb.jpg"
                  ,"filename":""
                  ,"contents_sort_order":"1"
                  ,"video_type":"youtube"
                  ,"duration":"0"
                  ,"tags":""
                  ,"intensity":"1"
                  ,"enabled":"1"
                  ,src: [
                    'https://www.youtube.com/watch?v='+v.youtube_id
                  ]
                  ,srcHD: [
                    'https://www.youtube.com/watch?v='+v.youtube_id
                  ]
                  ,type: "youtube"
                  ,poster : "//i.ytimg.com/vi/"+v.youtube_id+"/default.jpg"
                  ,title : v.song + ' - ' + v.artist
                  ,isAd: false
                  ,controls: true 
                })
              //}
            });
            cb(playlist,jcont,title);
          }
          ,error: function(err) {
            console.log(err)
          }
        });          
      }

      function clickThumb(t,videos) {
        console.log('clicky')
        var id = parseInt(t.attr('x-data'));
        //console.log(id)
        //console.log(videos)
        video1.opts.videos = videos;
        video1.loadVideo(id);
       // $('#video-title').html(t.attr('title'));
      }

      function makePlaylist(videos,jcont) {
        var myHtml = '';
        $.each(videos,function(i,v){
          //console.log(v)
          myHtml+= '<a href="#" class="index-'+i+'" x-data="'+i+'" data-toggle="tooltip" data-placement="top" title="'+v.title+'"><img src="'+v.poster+'" width="70"height="40" /></a>';
        });
        myHtml = $(myHtml);
        jcont.html(myHtml);
        jcont.find('a').bind('click',function(e){
          e.preventDefault();
          clickThumb($(this),videos);      
        });
      }

      /* EVENTS */
      $('#video1').on('loadedmetadata',function(e){
        console.log('loadedmetadata',video1.vid); 
        $('#video-title').html(video1.vid.title);
      });

      $('#video1').on('firstplay',function(e){
        console.log('firstplay',video1.vid); 
      });

      $('#video1').on('play',function(e){
        console.log('play',video1.vid);         
      });

      $('#video1').on('ended',function(e){
        console.log('ended',video1.vid); 
        $('#video-title').html(video1.vid.title);
      });

      $('#video1').on('lastvideoended',function(e){
        console.log('lastvideoended',video1.vid); 
      });

    });
  </script>

</body>
</html>
